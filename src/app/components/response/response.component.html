<br />
<!-- button to add new company -->
<div class="container my-2">
  <div class="row">
    <div class="col-md-3">
      <button class="btn btn-primary btn-block my-2" (click)="showCompanyForm()">Add Company</button>
    </div>
  </div><!-- .row -->
</div><!-- .container -->
<!-- button to add new company ends here -->
<!-- add new company form starts here -->
<div class="container">
  <form [formGroup]="companyForm" *ngIf="showForm" (submit)="addTheCompany($event)">
    <input id="readOnly" class="form-control my-2" type="text" placeholder="Company Section" readonly>
    <div class="row">
      <div class="form-group col-md-6">
        <label>account id:</label>
        <input type="number" class="form-control" formControlName="accountId">
      </div>
      <div class="form-group col-md-6">
        <label>company id:</label>
        <input type="number" class="form-control" formControlName="companyId">
      </div>
    </div>
    <div class="row">
      <div class="form-group col-md-6">
        <label>country:</label>
        <input type="text" class="form-control" formControlName="country">
      </div>
      <div class="form-group col-md-6">
        <label>state:</label>
        <input type="text" class="form-control" formControlName="state">
      </div>
    </div>
    <div class="row">
      <div class="form-group col-md-6">
        <label>city:</label>
        <input type="text" class="form-control" formControlName="city">
      </div>
      <div class="form-group col-md-6">
        <label>address:</label>
        <input type="text" class="form-control" formControlName="address">
      </div>
    </div>
    <div class="row">
    <div class="form-group col-md-6">
      <label>zipcode:</label>
      <input type="text" class="form-control" formControlName="zipcode">
    </div>
    </div>
    <input id="readOnly" class="form-control my-2" type="text" placeholder="Contact Section" readonly>
    <div class="row">
      <div class="form-group col-md-6">
        <label>contact id:</label>
        <input type="number" class="form-control" formControlName="contactId">
      </div>
      <div class="form-group col-md-6">
        <label>first name:</label>
        <input type="text" class="form-control" formControlName="firstName">
      </div>
    </div>
    <div class="row">
      <div class="form-group col-md-6">
        <label>last name:</label>
        <input type="text" class="form-control" formControlName="lastName">
      </div>
      <div class="form-group col-md-6">
        <label>email:</label>
        <input type="email" class="form-control" formControlName="email">
      </div>
    </div>
    <div class="row">
      <div class="form-group col-md-6">
        <label>primary phone:</label>
        <input type="text" class="form-control" formControlName="primaryPhone">
      </div>
      <div class="form-group col-md-6">
        <label>contact state:</label>
        <input type="text" class="form-control" formControlName="contactState">
      </div>
    </div>
    <div class="row">
      <div class="form-group col-md-6">
        <label>contact city:</label>
        <input type="text" class="form-control" formControlName="contactCity">
      </div>
      <div class="form-group col-md-6">
          <label>contact address:</label>
          <input type="text" class="form-control" formControlName="contactAddress">
      </div>
    </div>
    <div class="row">
      <div class="form-group col-md-6">
          <label>contact zipcode:</label>
          <input type="text" class="form-control" formControlName="contactZipcode">
      </div>
    </div>
      <button class="btn btn-primary">Submit</button>
      <button class="btn btn-warning mx-2" (click)="hideCompanyForm()">Cancel</button>
    </form>
</div>
<br />
<div class="container">
    <form *ngIf="!showForm">
      <input type="text" class="form-control" [(ngModel)]="res" name="res" placeholder="res..">
    </form>
</div>
<br />
<!-- each company card -->
<div class="container">
    <div id="accordion">
      <div class="card my-3" *ngFor="let item of items | multiple:res">
        <div class="card-header">
          <h5 class="mb-0 rowTitle">
            <button class="btn btn-link" (click)="toggleCardBody($event)">
              {{ item.CompanyName }}
            </button>
            <i class="far fa-edit"></i>
            <i class="far fa-times-circle"></i>
          </h5>
        </div>
    
        <div class="collapse show" style="display:none;">
          <div class="card-body">
              <ul class="list-group list-group-flush">
                  <li class="list-group-item"><strong>Account Id:</strong> {{item.AccountId}}</li>
                  <li class="list-group-item"><strong>Company Id:</strong> {{item.CompanyID}}</li>
                  <li class="list-group-item"><strong>Company Name:</strong> {{item.CompanyName}}</li>
                  <li class="list-group-item"><strong>Country:</strong> {{item.Country}}</li>
                  <li class="list-group-item"><strong>State:</strong> {{item.State}}</li>
                  <li class="list-group-item"><strong>City:</strong> {{item.City}}</li>
                  <li class="list-group-item"><strong>Address:</strong> {{item.StreetAddress}}</li>
                  <li class="list-group-item"><strong>Zipcode:</strong> {{item.ZipCode}}</li>
                </ul>
          </div>
          <div class="card-footer" *ngFor="let contact of item.Contacts">
            <button class="btn btn-info" (click)="toggleContacts($event)">Contacts</button>
            <div class="collapse show" style="display: none;">
                <table class="table table-responsive my-2">
                    <thead class="thead-dark">
                      <tr>
                        <th scope="col">ContactId</th>
                        <th scope="col">FirstName</th>
                        <th scope="col">LastName</th>
                        <th scope="col">Email</th>
                        <th scope="col">Phone</th>
                        <th scope="col">ContactState</th>
                        <th scope="col">ContactCity</th>
                        <th scope="col">ContactAddress</th>
                        <th scope="col">ContactZip</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th scope="row">{{contact.ContactId}}</th>
                        <td>{{contact.firstname}}</td>
                        <td>{{contact.LastName}}</td>
                        <td>{{contact.email}}</td>
                        <td>{{contact.PrimaryPhone}}</td>
                        <td>{{contact.ContactState}}</td>
                        <td>{{contact.ContactCity}}</td>
                        <td>{{contact.ContactAddress}}</td>
                        <td>{{contact.ContactZip}}</td>
                      </tr>
                    </tbody>
                  </table>
            </div>
          </div>
        </div>
      </div><!-- .card -->
    </div><!-- #accordion -->
  </div><!-- .container -->
<!-- each company card ends here -->